webpackJsonp([9],{"9OZM":function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("woOf"),a=e.n(i),s=e("YgNb"),o={name:"index",data:function(){return{currents:{currentPage:1,currentTotal:0},ps:{pageNo:1,pageSize:15},isAdd:!1,search:"",fileList:[],tableData:[],form:{deleted:0,giftGold:0,giftIcon:"",giftName:"",id:0,isOnline:0},formLabelWidth:"125px",dialogFormVisible:!1,headers:{token:s.a.get("token")},rules:{giftName:[{required:!0,message:"请输入礼物名",trigger:"blur"}]}}},mounted:function(){this.getInfo(1)},methods:{handleChange:function(n,t){this.fileList=t.slice(-1)},handleRemove:function(n,t){console.log(n,t)},clear:function(){this.fileList=[],this.form=a()({deleted:0,giftGold:0,giftIcon:"",giftName:"",id:0,isOnline:0}),this.dialogFormVisible=!1},add:function(){this.clear(),this.isAdd=!0,this.dialogFormVisible=!0},update:function(n,t){var e=this;1===t&&(this.form=a()(n),this.dialogFormVisible=!0,this.isAdd=!1),2===t&&this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.$set(n,"deleted",1),e.form=a()({},n),e.updateInfo()}).catch(function(){e.$message({type:"info",message:"已取消删除"})})},getInfo:function(){var n=this,t={pageNum:this.ps.pageNo,pageSize:this.ps.pageSize};this.$axios("post","/gift/getGiftList",t).then(function(t){200===t.code&&(n.tableData=t.data.dataList,n.currents.currentTotal=t.data.countSize)})},updateInfo:function(){var n=this,t=this.form;this.$axios("post","/gift/editGift",t).then(function(t){200===t.code?(n.$message({type:"success",message:"操作成功!"}),n.getInfo(),n.clear()):n.$message({type:"warning",message:t.msg})})},addImg:function(){if(console.log(this.fileList),0!==this.fileList.length){for(var n=[],t=0;t<this.fileList.length;t++)n.push(this.fileList[t].response.data);this.$set(this.form,"giftIcon",n.join(","))}},addSumbit:function(){var n=this;this.addImg(),this.$refs.form.validate(function(t){if(!t)return!1;n.$delete(n.form,"id");var e=n.form;n.$axios("post","/gift/addGift",e).then(function(t){200===t.code?(n.$message({type:"success",message:"新增成功!"}),n.getInfo(1),n.clear()):n.$message({type:"warning",message:t.msg})})})},updateSumbit:function(){var n=this;this.addImg(),this.$refs.form.validate(function(t){if(!t)return!1;n.updateInfo()})}}},l={render:function(){var n=this,t=n.$createElement,i=n._self._c||t;return i("div",{staticClass:"info-table"},[i("div",{staticClass:"fx align-items justify-between mt-15 mb-15 ml-10 mr-10"},[i("div",{staticClass:"fs-18 fw-600"},[n._v("礼物管理")]),n._v(" "),i("div",{staticClass:"fx align-items"},[i("div",{staticClass:"ml-10"},[i("el-input",{attrs:{placeholder:"输入礼物名进行搜索",size:"small"},model:{value:n.search,callback:function(t){n.search=t},expression:"search"}},[i("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1),n._v(" "),i("div",{staticClass:"ml-10",on:{click:n.add}},[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-plus"}},[n._v("增加")])],1)])]),n._v(" "),i("el-table",{staticStyle:{width:"100%"},attrs:{data:n.tableData.filter(function(t){return!n.search||t.giftName.toLowerCase().includes(n.search.toLowerCase())}),"header-cell-class-name":"bg-f5"}},[i("el-table-column",{attrs:{fixed:"",type:"index",label:"序号",align:"center",width:"200"}}),n._v(" "),i("el-table-column",{attrs:{label:"礼物图片"},scopedSlots:n._u([{key:"default",fn:function(t){return[t.row.giftIcon?i("div",[i("img",{attrs:{src:t.row.giftIcon,width:"100px",height:"55px"}})]):n._e()]}}])}),n._v(" "),i("el-table-column",{attrs:{prop:"giftName",label:"礼物名"}}),n._v(" "),i("el-table-column",{attrs:{prop:"giftGold",label:"所需金币"}}),n._v(" "),i("el-table-column",{attrs:{label:"是否显示",align:"center"},scopedSlots:n._u([{key:"default",fn:function(t){return[0===t.row.isOnline?i("span",[n._v("不显示")]):n._e(),n._v(" "),1===t.row.isOnline?i("span",[n._v("显示")]):n._e()]}}])}),n._v(" "),i("el-table-column",{attrs:{fixed:"right"},scopedSlots:n._u([{key:"default",fn:function(t){return[i("div",{staticClass:"fx cursor"},[i("div",{staticClass:"update w-32 bg-f2",on:{click:function(e){return n.update(t.row,1)}}},[i("img",{attrs:{src:e("OqpS")}})]),n._v(" "),i("div",{staticClass:"ml-10",on:{click:function(e){return n.update(t.row,2)}}},[i("img",{attrs:{src:e("lCGE")}})])])]}}])})],1),n._v(" "),i("el-dialog",{attrs:{title:"礼物管理",visible:n.dialogFormVisible,width:"420px"},on:{"update:visible":function(t){n.dialogFormVisible=t}}},[i("el-form",{ref:"form",attrs:{model:n.form,rules:n.rules}},[i("el-form-item",{attrs:{label:"礼物名","label-width":n.formLabelWidth,prop:"giftName"}},[i("el-input",{staticStyle:{width:"238px"},attrs:{autocomplete:"off"},model:{value:n.form.giftName,callback:function(t){n.$set(n.form,"giftName",t)},expression:"form.giftName"}})],1),n._v(" "),i("el-form-item",{attrs:{label:"礼物图片","label-width":n.formLabelWidth}},[i("div",[i("el-upload",{staticClass:"upload-demo",attrs:{action:"http://hszhibo.live/sequoiaBack/file/fileUpload","on-remove":n.handleRemove,"on-change":n.handleChange,"file-list":n.fileList,headers:n.headers,"list-type":"picture"}},[i("el-button",{attrs:{size:"small",type:"primary"}},[n._v("点击上传")])],1)],1),n._v(" "),""!==n.form.giftIcon?i("img",{attrs:{src:n.form.giftIcon,width:"100px"}}):n._e()]),n._v(" "),i("el-form-item",{attrs:{label:"金币","label-width":n.formLabelWidth,prop:"giftGold"}},[i("el-input",{staticStyle:{width:"238px"},attrs:{autocomplete:"off"},model:{value:n.form.giftGold,callback:function(t){n.$set(n.form,"giftGold",t)},expression:"form.giftGold"}})],1),n._v(" "),i("el-form-item",{attrs:{label:"是否显示","label-width":n.formLabelWidth,prop:"isOnline"}},[i("el-radio",{attrs:{label:0},model:{value:n.form.isOnline,callback:function(t){n.$set(n.form,"isOnline",t)},expression:"form.isOnline"}},[n._v("不显示")]),n._v(" "),i("el-radio",{attrs:{label:1},model:{value:n.form.isOnline,callback:function(t){n.$set(n.form,"isOnline",t)},expression:"form.isOnline"}},[n._v("显示")])],1)],1),n._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:n.clear}},[n._v("取 消")]),n._v(" "),n.isAdd?i("el-button",{attrs:{type:"primary"},on:{click:n.addSumbit}},[n._v("确 定")]):i("el-button",{attrs:{type:"primary"},on:{click:n.updateSumbit}},[n._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var r=e("VU/8")(o,l,!1,function(n){e("SUxM")},"data-v-cc4d8190",null);t.default=r.exports},OqpS:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAMCAYAAAEhcmxxAAAABGdBTUEAALGPC/xhBQAAAQVJREFUKBVjYIi5/Z8BCJhABARARYAcGCvmTgCEE3c7BaSGEaww9vZLBkZWDzAbRjCC9SxRhagAiYJUMTDsZoGpAAq4MzAySTMwMHswLFI4j7AFrgLCgBgFE0Q2EiYGpuMeGDLE3jkNYiP8ABL890eegeG/HEgCYfn/39OBrldkWKwqDvcdSAUKAHobYRSKDIgDCxQMCahAzD19oINqGEL/M4NEcJsEdjkodP4pAtXdYeC484oh9gU3poaE+wrgYAT56D9jOgPj/5kMjCw3gZ4QZmD66oDwHdQFDIx/uBj+MzwD+rQYqDAPGMziMCmGv/+2YGqYr3oNqMAQrgiNgRoVaJLYuADPkFNl/SoURwAAAABJRU5ErkJggg=="},SUxM:function(n,t,e){var i=e("u5vt");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("10099d30",i,!0,{})},lCGE:function(n,t){n.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAYCAYAAAHooR+fAAAABGdBTUEAALGPC/xhBQAAAixJREFUSA21VrlKBEEQne4dUQQDwUATdyM1FQw9PsAjNRT8BxOPRMTE1FTBUMw8PsAj9ANcIw9wQwNFREfHeo011PZ2z0zrbsNu1/HqdVVf0yqi9nl3k6JH66qNKc2G561lY4SujUR/3eMzLEYqub95StNoiC0aCsI41IQhpDIwaEAtIRwqe0PDhrezgyhp3EXoZQPTMY03L422rNKH+lTynV7YDuhKRSeKi3UBYIulg8uCrX9937iymZFGdsLWBEAVcgoBKMwhtwowFDWl1HfsmwYEuwqzSdM01U2zIQGoSxYNvXd2SUIyuWlCMqsQsNwyI+HKxMJJy5A5goIvua9/obYcnNeltVr7JSnejDYL7b9GRalFNTx6Sbv571mAONZqms7N38rgzGgeDr1LDJBcFbncTIAed4BzdWSwDPAROTMB2N5c0H0td1k5I2y4vJZLkhcofc5yAEge6+ZOyCuDiZwTy86y/b/Lwc2pqa2XHdHGmQupOrZgzs7XQ32VNs0W7V6j2+BO6UiCKtmoDI9ul/qadCoR5i31QWJwp3vvdi0a2HeY4qFaUajTH5QIBn+/OjVEPZNzTsLXo93MH5JU0LEBse7tMz/IL3ubZlApS78zU48xKBEPR1vMQUtjjyivfZY/onMbVkoPTiSujtCH/7blVSlHAya0lXrfhpKG4vGw0OZlQTdcaHC78LhdTQ5MiKc4PTBWSJ/AG4HtnegxA8R7TQns4HmFMX4AXlLrAv1GZXoAAAAASUVORK5CYII="},u5vt:function(n,t,e){(n.exports=e("FZ+f")(!1)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n",""])}});