webpackJsonp([6],{Awpy:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("BO1k"),n=a.n(l),s={name:"index",data:function(){return{checkBox:1,date:"",date2:"",channel:"",channel2:"",options:[],oldOptions:[],tableData:[],channelDate:[],loading:!1}},mounted:function(){this.getNowInfo(),this.channelDate=JSON.parse(sessionStorage.getItem("channelList"));var e=[{value:"-1",label:"全部"}];for(var t in this.channelDate)e.push({value:t,label:this.channelDate[t]});this.options=e},methods:{selectAll:function(e){var t=[],a=!0,l=!1,s=void 0;try{for(var o,i=n()(this.options);!(a=(o=i.next()).done);a=!0){var r=o.value;t.push(r.value)}}catch(e){l=!0,s=e}finally{try{!a&&i.return&&i.return()}finally{if(l)throw s}}var c=1===this.oldOptions.length?[]:this.oldOptions[1];if(e.includes("-1")&&(this.channel=t),c&&c.includes("-1")&&!e.includes("-1")&&(this.channel=[]),c&&c.includes("-1")&&e.includes("-1")){var d=e.indexOf("-1");e.splice(d,1),this.channel=e}!c||c.includes("-1")||e.includes("-1")||e.length===t.length-1&&(this.channel=["-1"].concat(e)),this.oldOptions[1]=this.channel},getNowInfo:function(e,t,a){var l=this;this.loading=!0,t&&e?(t+=" 23:59:59",e+=" 00:00:00"):(t=(new Date).toLocaleDateString().replace(/\//g,"-")+" 23:59:59",e=(new Date).toLocaleDateString().replace(/\//g,"-")+" 00:00:00");var n="";a&&0!==a.length?a.includes("-1")?(a.shift(),n=a.join(",")):n=a.join(","):n=sessionStorage.getItem("channel"),this.$axios("post","/user/nowInfo?channel="+n+"&end="+t+"&start="+e).then(function(e){"0"===e.code&&(l.tableData=e.data,l.loading=!1)})},dateDiff:function(e,t){var a=new Date(e),l=new Date(t),n=Math.abs(a.getTime()-l.getTime()),s=parseInt(n/864e5);return s?s+1:0},getDayInfo:function(e,t,a){var l=this;this.dateDiff(e,t)>10?this.$message({type:"warning",message:"日期查询区间不能大于10天!"}):""===a?this.$message({type:"warning",message:"渠道不能为空!"}):(this.loading=!0,t&&e?(t+=" 23:59:59",e+=" 00:00:00"):(t="",e=""),this.$axios("post","/user/dayInfo?channel="+a+"&end="+t+"&start="+e).then(function(e){"0"===e.code&&(l.tableData=e.data,l.loading=!1)}))}}},o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"info-table"},[a("div",{staticClass:"fx align-items justify-between mt-15 mb-15 ml-10 mr-10"},[a("div",{staticClass:"fs-18 fw-600"},[e._v("\n          运营统计\n        ")]),e._v(" "),a("div",{staticClass:"fx"},[a("div",{staticClass:"cx-box",class:1===e.checkBox?"xz":"",on:{click:function(t){e.checkBox=1}}},[e._v("查询总和")]),e._v(" "),a("div",{staticClass:"cx-box",class:2===e.checkBox?"xz":"",on:{click:function(t){e.checkBox=2}}},[e._v("按天数查询")])])]),e._v(" "),1===e.checkBox?a("div",{staticClass:"fx align-items fx-end mb-15"},[a("div",{staticClass:"ml-10"},[e._v("\n          日期：\n          "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.date,callback:function(t){e.date=t},expression:"date"}})],1),e._v(" "),a("div",{staticClass:"ml-10"},[e._v("可选择多个渠道：")]),e._v(" "),a("div",[a("el-select",{attrs:{multiple:"",size:"small","collapse-tags":"",placeholder:"请选择"},on:{change:e.selectAll},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}},e._l(e.options,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.getNowInfo(e.date[0],e.date[1],e.channel)}}},[e._v("查询")])],1):e._e(),e._v(" "),2===e.checkBox?a("div",{staticClass:"fx align-items fx-end mb-15"},[a("div",{staticClass:"ml-10"},[e._v("\n          日期：\n          "),a("el-date-picker",{attrs:{size:"small",type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:e.date2,callback:function(t){e.date2=t},expression:"date2"}})],1),e._v(" "),a("div",{staticClass:"ml-10"},[e._v("渠道：")]),e._v(" "),a("div",[a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.channel2,callback:function(t){e.channel2=t},expression:"channel2"}},e._l(e.options,function(t){return"-1"!==t.value?a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}}):e._e()}),1)],1),e._v(" "),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary",size:"small",icon:"el-icon-plus"},on:{click:function(t){return e.getDayInfo(e.date2[0],e.date2[1],e.channel2)}}},[e._v("查询")])],1):e._e(),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-cell-class-name":"bg-f5"}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"已播放1次"}},[a("span",[e._v(e._s(t.row.playOne))])]),e._v(" "),a("el-form-item",{attrs:{label:"已播放2次"}},[a("span",[e._v(e._s(t.row.playTwo))])]),e._v(" "),a("el-form-item",{attrs:{label:"已播放3次"}},[a("span",[e._v(e._s(t.row.playThree))])]),e._v(" "),a("el-form-item",{attrs:{label:"播放率"}},[a("span",[e._v(e._s(t.row.playRentation))])]),e._v(" "),a("el-form-item",{attrs:{label:"月卡"}},[a("span",[e._v(e._s(t.row.monthCards))])]),e._v(" "),a("el-form-item",{attrs:{label:"季卡"}},[a("span",[e._v(e._s(t.row.quartCards))])]),e._v(" "),a("el-form-item",{attrs:{label:"半年卡"}},[a("span",[e._v(e._s(t.row.halfYearCards))])]),e._v(" "),a("el-form-item",{attrs:{label:"年卡"}},[a("span",[e._v(e._s(t.row.yearCards))])]),e._v(" "),a("el-form-item",{attrs:{label:"终身卡"}},[a("span",[e._v(e._s(t.row.allYearCards))])]),e._v(" "),a("el-form-item",{attrs:{label:"ARPPU"}},[a("span",[e._v(e._s(t.row.arrention))])]),e._v(" "),a("el-form-item",{attrs:{label:"充值金币总数"}},[a("span",[e._v(e._s(t.row.spendGoldCoins)+"个")])]),e._v(" "),a("el-form-item",{attrs:{label:"充值金币人数"}},[a("span",[e._v(e._s(t.row.peopleConsumeGold)+"人")])]),e._v(" "),a("el-form-item",{attrs:{label:"影片金币价格"}},[a("span",[e._v(e._s(t.row.movieGoldCoinPrice)+"元")])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",align:"center",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"channelName",label:"官方推广组"}}),e._v(" "),a("el-table-column",{attrs:{prop:"userNum",label:"注册用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"androidNum",label:"android用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"iosNum",label:"ios用户"}}),e._v(" "),a("el-table-column",{attrs:{prop:"passionNum",label:"推广数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"vipUserNum",label:"充值总数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"payRention",label:"付费率"}}),e._v(" "),a("el-table-column",{attrs:{prop:"todayNum",label:"次留"}}),e._v(" "),a("el-table-column",{attrs:{prop:"threeNum",label:"三留"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sevenNum",label:"七留"}}),e._v(" "),a("el-table-column",{attrs:{prop:"fourteenthNum",label:"十四留"}}),e._v(" "),a("el-table-column",{attrs:{prop:"thirtyNum",label:"三十留"}}),e._v(" "),a("el-table-column",{attrs:{prop:"recharge",label:"充值金额"}})],1)],1)])},staticRenderFns:[]};var i=a("VU/8")(s,o,!1,function(e){a("TN4+"),a("EHtj")},"data-v-4de8d116",null);t.default=i.exports},BO1k:function(e,t,a){e.exports={default:a("fxRn"),__esModule:!0}},EHtj:function(e,t,a){var l=a("piOe");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("1721322c",l,!0,{})},"HK8+":function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.c-red[data-v-4de8d116]{\n  color: red;\n}\n.table[data-v-4de8d116]{\n  text-align: center;\n  width: 100%;\n}\n.table th[data-v-4de8d116] {\n  background: #F5F7FA;\n  color: rgb(144, 147, 154);\n}\n.table tr[data-v-4de8d116] {\n  line-height: 40px;\n}\n.table td[data-v-4de8d116]{\n  color: #6F6F6F;\n}\n.cx-box[data-v-4de8d116] {\n  border: 1px solid #2897ff;\n  width: 100px;\n  line-height: 30px;\n  text-align: center;\n  color: #2897ff;\n}\n.xz[data-v-4de8d116]{\n  background: #2897ff;\n  color: white;\n}\n",""])},"TN4+":function(e,t,a){var l=a("HK8+");"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);a("rjj0")("3004a0d2",l,!0,{})},fxRn:function(e,t,a){a("+tPU"),a("zQR9"),e.exports=a("g8Ux")},g8Ux:function(e,t,a){var l=a("77Pl"),n=a("3fs2");e.exports=a("FeBl").getIterator=function(e){var t=n(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return l(t.call(e))}},piOe:function(e,t,a){(e.exports=a("FZ+f")(!1)).push([e.i,"\n.demo-table-expand {\n  font-size: 0;\n}\n.demo-table-expand label {\n  width: 100px;\n  color: #99a9bf;\n}\n.demo-table-expand .el-form-item {\n  margin-right: 0;\n  margin-bottom: 0;\n  width: 25%;\n}\n",""])}});